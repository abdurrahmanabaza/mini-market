<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>عرض المنتجات</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    padding: 20px;
  }
  h1 {
    text-align: center;
  }
  .products-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
  }
  .product {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    width: 200px;
    padding: 15px;
    text-align: center;
  }
  .product img {
    width: 100%;
    height: auto;
    border-radius: 4px;
  }
  .product h3 {
    margin: 10px 0 5px;
  }
  .product p {
    margin: 5px 0;
  }
</style>
</head>
<body>

<h1>عرض المنتجات</h1>
<div class="products-container" id="productsContainer">
  <!-- المنتجات ستظهر هنا -->
</div>

<!-- Firebase SDK (تأكد من تحديث النسخة إذا لزم الأمر) -->
<script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js"></script>

<script>
  // إعدادات Firebase - استبدلها بقيمك الخاصة
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_AUTH_DOMAIN",
    databaseURL: "YOUR_DATABASE_URL",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_STORAGE_BUCKET",
    messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  // تهيئة Firebase
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  const items = [
    { id: 1, name: "لبنة", quantity: 100, value: 3000, image: "images/suger.jpg" },
    { id: 2, name: "جبنة شركسية", quantity: 50, value: 4000, image: "images/sult.jpg" },
    { id: 3, name: "جبنة قشقوان", quantity: 70, value: 3500, image: "images/cheese.jpg" },
    { id: 4, name: "زيتون اخضر", quantity: 30, value: 2500, image: "images/olives.jpg" },
    { id: 5, name: "مربى مشمش", quantity: 20, value: 1500, image: "images/marmalade.jpg" },
    { id: 6, name: "زبدة", quantity: 60, value: 5000, image: "images/butter.jpg" },
    { id: 7, name: "لبن عيران", quantity: 80, value: 2000, image: "images/yogurt.jpg" },
    { id: 8, name: "عسل طبيعي", quantity: 15, value: 6000, image: "images/honey.jpg" },
  ];

  function renderProducts() {
    const container = document.getElementById('productsContainer');
    container.innerHTML = ''; // تنظيف المحتوى القديم
    items.forEach(item => {
      const productDiv = document.createElement('div');
      productDiv.className = 'product';

      const img = document.createElement('img');
      img.src = item.image;
      img.alt = item.name;

      const name = document.createElement('h3');
      name.textContent = item.name;

      const quantity = document.createElement('p');
      quantity.textContent = `الكمية: ${item.quantity}`;

      const value = document.createElement('p');
      value.textContent = `السعر: ${item.value} ل.س`;

      productDiv.appendChild(img);
      productDiv.appendChild(name);
      productDiv.appendChild(quantity);
      productDiv.appendChild(value);

      container.appendChild(productDiv);
    });
  }

  async function loadData() {
    try {
      const snapshot = await firebase.database().ref('products').get();
      if (snapshot.exists()) {
        const data = snapshot.val();
        Object.keys(data).forEach(key => {
          const prod = data[key];
          const id = Number(key);
          const item = items.find(i => i.id === id);
          if (item) {
            item.name = prod.name;
            item.quantity = prod.quantity;
            item.value = prod.value;
            // بناءً على المفتاح، يمكن تعديل مسار الصورة إذا كانت مختلفة
            item.image = `images/product_${id}.jpg`;
          }
        });
        renderProducts();
      } else {
        console.log('لا توجد بيانات');
        renderProducts();
      }
    } catch (error) {
      console.error('خطأ في تحميل البيانات:', error);
    }
  }

  // استدعاء التحميل عند تحميل الصفحة
  window.onload = loadData;
</script>

</body>
</html>
